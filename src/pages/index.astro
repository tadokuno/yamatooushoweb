---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import ContactForm from '../components/ContactForm.astro';
import BusinessCalendar from '../components/BusinessCalendar.astro';
import '../styles/global.css';
import businessData from '../data/businessProperties.json';
import type { BusinessData } from '../types/businessData';

const data = businessData as BusinessData;

// SEO設定
const seoData = {
  title: "やまと王将 - 将棋処 | 神奈川県大和市の将棋道場",
  description: "神奈川県大和市の将棋処やまと王将。初心者から上級者まで楽しめる将棋道場です。毎週土日にトーナメント開催中。大和駅徒歩7分でアクセス良好。",
  image: "/images/yamatoosho.png"
};
---
const data = businessData as BusinessData;
---

<Layout title={seoData.title} description={seoData.description} image={seoData.image}>
    <Header />
    <main>
      <section class="hero">
        <h1>誰もが楽しめる将棋の空間</h1>
      </section>
      
      <section class="section">
        <div class="container">
          <h2>ようこそ、<ruby>将棋処<rt>しょうぎどころ</rt></ruby> やまと王将へ</h2>
          <p class="intro-text">初心者から上級者まで、将棋を愛するすべての人に開かれた<ruby>将棋処<rt>しょうぎどころ</rt></ruby>です。気軽に対局を楽しんだり、トーナメントで力試しを楽しむこともできます。</p>
        </div>
      </section>
      
      <section class="section section-gray">
        <div class="container">
          <h2>最新情報はXでチェック!</h2>
          <p>将棋処 やまと王将の最新イベントやキャンペーンはXで発信中!</p>
          <p>フォローして最新情報をゲット!</p>
          <a href="https://x.com/yamatoousho" class="cta-button x-button">
            <img src="/images/x-logo.png" alt="Xロゴ" width="24" height="24" />
            @yamatoousho をフォロー
          </a>
        </div>
      </section>
      <section class="section section-gray">
        <div class="container">
          <h2>営業日カレンダー</h2>
          <p>やまと王将 <ruby>将棋処<rt>しょうぎどころ</rt></ruby>の営業日をチェック!</p>
          <div class="iframe-container">
            <BusinessCalendar />
          </div>
        </div>
      </section>
      <section class="section">
        <div class="container">
          <h2>お知らせ</h2>
          <p>９月から席主が変わります！</p>
          <p>色々と変わりますので、今後ともよろしくお願いいたします。</p>
          <br>
          <p>土日は毎週定例トーナメント開催!</p>
          <p>いずれも、午後1時からトーナメントを開始します。営業開始は正午です。</p>
        </div>
      </section>
      
      <section class="section section-light">
        <div class="container">
          <h2>アクセス</h2>
          <div class="access-info">
            <h2><ruby>将棋処<rt>しょうぎどころ</rt></ruby> やまと王将</h2>
            <p><strong>住所:</strong> {data.contactInfo.address}</p>
            <p><strong>営業日:</strong> {data.businessInfo.regularDays}</p>
            <p><strong>営業時間:</strong> {data.businessInfo.hours}</p>
            <p><strong>電話:</strong> {data.contactInfo.phone}</p>
            <p><strong>最寄り駅:</strong> 小田急線・相鉄線 大和駅 徒歩7分</p>
          </div>
          
          <div class="map-section">
            <h3>Googleマップ</h3>
            <div class="iframe-container">
              <iframe 
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d6498.371040752466!2d139.45959901115296!3d35.474953441164075!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x601856147134272d%3A0x3db2494a376bb0fc!2z44KE44G-44Go546L5bCG!5e0!3m2!1sja!2sjp!4v1750846715752!5m2!1sja!2sjp"
                width="600"
                height="600" 
                style="border:0;" 
                allowfullscreen="" 
                loading="lazy" 
                referrerpolicy="no-referrer-when-downgrade"
              ></iframe>
            </div>
          </div>
          
          <div class="map-section">
            <h3>簡単な地図</h3>
            <div class="image-container">
              <img src="/images/simple-map.png" alt="やまと王将への地図" />
            </div>
          </div>
          <div class="calendar-cta">
            <button class="cta-button" onclick="openContactModal()">お問い合わせ</button>
          </div>
        </div>
      </section>
      
    </main>
    <ContactForm />
    <Footer />
</Layout>

<style>
  /* ページ固有のスタイルのみ */
  .intro-text {
    font-size: 1.1rem;
    line-height: 1.8;
    color: #555;
    text-align: center;
    max-width: 800px;
    margin: 0 auto;
  }

  /* ルビのスタイル */
  ruby {
    ruby-align: center;
  }

  rt {
    font-size: 0.4em;
    color: #666;
  }

  .x-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    background-color: #000;
    padding: 12px 24px;
  }

  .x-button img {
    vertical-align: middle;
  }

  .x-button:hover {
    background-color: #333;
  }

  .map-section {
    margin-bottom: 40px;
  }

  .map-section h3 {
    margin-bottom: 20px;
    color: #333;
    text-align: center;
  }

  .calendar-cta {
    text-align: center;
    margin-top: 30px;
  }

  /* レスポンシブ対応 */
  @media (max-width: 480px) {
    .x-button {
      padding: 10px 15px;
      font-size: 0.85rem;
      flex-direction: column;
      gap: 5px;
    }
  }
</style>